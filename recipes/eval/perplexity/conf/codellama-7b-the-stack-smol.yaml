defaults:
  - base
  - model: codellama-7b
  - dataset: the-stack-smol

working_dir: /tmp/generate

load_adapter: False

stride: 128
num_tokens: 32768

# no scaling
# {'avg_input_tokens': 57921.333333333336, 'perplexity': {128: 2.2242255210876465, 256: 1.5072872638702393, 384: 1.4509241183598836, 512: 1.445246656735738, 640: 1.4000341494878132, 768: 1.41841455300649, 896: 1.3681257963180542, 1024: 1.321614185969035, 1152: 1.2919351657231648, 1280: 1.2718429962793987, 1408: 1.2555031776428223, 1536: 1.24631134668986, 1664: 1.2349789937337239, 1792: 1.223911960919698, 1920: 1.2251439491907756, 2048: 1.2229822874069214, 2176: 1.2141296068827312, 2304: 1.2096399068832397, 2432: 1.2025087277094524, 2560: 1.2014163732528687, 2688: 1.1983295679092407, 2816: 1.1937118768692017, 2944: 1.1907717784245808, 3072: 1.1881570021311443, 3200: 1.1835443178812664, 3328: 1.1785431702931721, 3456: 1.1771163145701091, 3584: 1.173514684041341, 3712: 1.170653263727824, 3840: 1.1694592237472534, 3968: 1.1666040420532227, 4096: 1.1635240316390991, 4224: 1.1628524462382, 4352: 1.1597052415211995, 4480: 1.1569705804189045, 4608: 1.1555050611495972, 4736: 1.1535753011703491, 4864: 1.1518385410308838, 4992: 1.1499360005060832, 5120: 1.149535854657491, 5248: 1.148713747660319, 5376: 1.1483167012532551, 5504: 1.1470446586608887, 5632: 1.1476220687230427, 5760: 1.1478604873021443, 5888: 1.1468137502670288, 6016: 1.1460243860880535, 6144: 1.1465509335199993, 6272: 1.1449930270512898, 6400: 1.1438956658045452, 6528: 1.1435471773147583, 6656: 1.1430370410283406, 6784: 1.1432099342346191, 6912: 1.1419573624928792, 7040: 1.1417373021443684, 7168: 1.1412312984466553, 7296: 1.1401594877243042, 7424: 1.1403053601582844, 7552: 1.1391294399897258, 7680: 1.138832410176595, 7808: 1.1390608151753743, 7936: 1.138388752937317, 8064: 1.1384828090667725, 8192: 1.1379259824752808, 8320: 1.1372068325678508, 8448: 1.1373192469278972, 8576: 1.1366254091262817, 8704: 1.1357771158218384, 8832: 1.1371010541915894, 8960: 1.136650562286377, 9088: 1.1371119022369385, 9216: 1.1374123096466064, 9344: 1.136312445004781, 9472: 1.1366722186406453, 9600: 1.1364676157633464, 9728: 1.1356292963027954, 9856: 1.1352932850519817, 9984: 1.1367096503575642, 10112: 1.1380263566970825, 10240: 1.1381606658299763, 10368: 1.137221058209737, 10496: 1.1373285452524822, 10624: 1.137707233428955, 10752: 1.1374060710271199, 10880: 1.1366906960805256, 11008: 1.1361239353815715, 11136: 1.1359837452570598, 11264: 1.1353298823038738, 11392: 1.1351304451624553, 11520: 1.1350336074829102, 11648: 1.1351550420125325, 11776: 1.1355206569035847, 11904: 1.1368683973948162, 12032: 1.1381586790084839, 12160: 1.1379351218541462, 12288: 1.1376880804697673, 12416: 1.137333591779073, 12544: 1.1382031043370564, 12672: 1.1382566690444946, 12800: 1.1384495894114177, 12928: 1.1386010646820068, 13056: 1.138929843902588, 13184: 1.1392852465311687, 13312: 1.1392943859100342, 13440: 1.139388918876648, 13568: 1.1390039523442586, 13696: 1.1392138401667278, 13824: 1.1391115188598633, 13952: 1.1389425992965698, 14080: 1.139144778251648, 14208: 1.1400546630223591, 14336: 1.1406304836273193, 14464: 1.141545017560323, 14592: 1.1408002773920696, 14720: 1.1400094827016194, 14848: 1.1401621500651042, 14976: 1.1406933863957722, 15104: 1.1407484610875447, 15232: 1.1410893599192302, 15360: 1.141422986984253, 15488: 1.141232172648112, 15616: 1.1412601073582966, 15744: 1.1415854295094807, 15872: 1.1411409378051758, 16000: 1.140776554743449, 16128: 1.1410466432571411, 16256: 1.1406080722808838, 16384: 1.140519618988037, 16512: 1.1404242118199666, 16640: 1.1402862866719563, 16768: 1.140004833539327, 16896: 1.1397988001505535, 17024: 1.1396881739298503, 17152: 1.1393943627675374, 17280: 1.1390177011489868, 17408: 1.1389644940694172, 17536: 1.138392408688863, 17664: 1.1380051374435425, 17792: 1.1378079652786255, 17920: 1.1376718680063884, 18048: 1.1381642421086628, 18176: 1.140032450358073, 18304: 1.1401454210281372, 18432: 1.140291412671407, 18560: 1.1399797598520915, 18688: 1.1403091351191204, 18816: 1.14093017578125, 18944: 1.14039941628774, 19072: 1.1400890350341797, 19200: 1.1399114926656086, 19328: 1.1395782232284546, 19456: 1.1394042174021404, 19584: 1.1390495697657268, 19712: 1.1385932366053264, 19840: 1.1382681926091511, 19968: 1.138017177581787, 20096: 1.1375445524851482, 20224: 1.136861244837443, 20352: 1.1363650957743328, 20480: 1.1376951535542805, 20608: 1.1391732692718506, 20736: 1.1403716405232747, 20864: 1.1395392815272014, 20992: 1.139257550239563, 21120: 1.1391604741414387, 21248: 1.1388353904088337, 21376: 1.1388899087905884, 21504: 1.140331228574117, 21632: 1.1403896013895671, 21760: 1.1398402452468872, 21888: 1.1394837697347004, 22016: 1.139831264813741, 22144: 1.1406392653783162, 22272: 1.1401090224583943, 22400: 1.140396237373352, 22528: 1.1398502190907795, 22656: 1.139934738477071, 22784: 1.1404190460840862, 22912: 1.1404086351394653, 23040: 1.1402206420898438, 23168: 1.140523910522461, 23296: 1.1407192945480347, 23424: 1.140323559443156, 23552: 1.1403411626815796, 23680: 1.1400163968404133, 23808: 1.1394277413686116, 23936: 1.139044165611267, 24064: 1.1387578248977661, 24192: 1.1387056112289429, 24320: 1.138284961382548, 24448: 1.1380090316136677, 24576: 1.1383971373240154, 24704: 1.1391656001408894, 24832: 1.1417357126871746, 24960: 1.1440035104751587, 25088: 1.1453994909922283, 25216: 1.1490654548009236, 25344: 1.1525591214497883, 25472: 1.154038627942403, 25600: 1.1573899586995442, 25728: 1.1603756348292034, 25856: 1.163042386372884, 25984: 1.1651935577392578, 26112: 1.166859785715739, 26240: 1.1683627367019653, 26368: 1.1696471373240154, 26496: 1.172238787015279, 26624: 1.1753753423690796, 26752: 1.176416039466858, 26880: 1.178160031636556, 27008: 1.1789559125900269, 27136: 1.178514043490092, 27264: 1.1781336069107056, 27392: 1.178573449452718, 27520: 1.179013768831889, 27648: 1.1794053316116333, 27776: 1.179885745048523, 27904: 1.1803898016611736, 28032: 1.1802912553151448, 28160: 1.180240233739217, 28288: 1.1805475950241089, 28416: 1.1806901693344116, 28544: 1.180944601694743, 28672: 1.1812467575073242, 28800: 1.1813495953877766, 28928: 1.1810816923777263, 29056: 1.1809290250142415, 29184: 1.1809128920237224, 29312: 1.1808994611104329, 29440: 1.1808846791585286, 29568: 1.1812514066696167, 29696: 1.1810187101364136, 29824: 1.18147873878479, 29952: 1.1819965839385986, 30080: 1.181852142016093, 30208: 1.1820168495178223, 30336: 1.1821047862370808, 30464: 1.1821369727452595, 30592: 1.181956132253011, 30720: 1.182218114535014, 30848: 1.182266394297282, 30976: 1.1824946800867717, 31104: 1.182875394821167, 31232: 1.1835977633794148, 31360: 1.1840386788050334, 31488: 1.1850480635960896, 31616: 1.1853667497634888, 31744: 1.185277263323466, 31872: 1.1851262251536052, 32000: 1.1853608290354412, 32128: 1.185882290204366, 32256: 1.1863085826237996, 32384: 1.1865362326304119, 32512: 1.1867414712905884, 32640: 1.1871318419774373, 32768: 1.1876277128855388}, 'peak_memory_usage (GB)': 10.680498123168945, 'peak_memory_cached (GB)': 78.091796875}

# scaling
# {'num_input_tokens': 57921.333333333336, 'perplexity': {128: 2.4669729471206665, 256: 1.7644283374150593, 384: 1.6773889462153118, 512: 1.6734202702840169, 640: 1.6351471344629924, 768: 1.6540489196777344, 896: 1.6114590167999268, 1024: 1.5625120798746746, 1152: 1.5242602030436199, 1280: 1.487635334332784, 1408: 1.459311564763387, 1536: 1.451755205790202, 1664: 1.4403377771377563, 1792: 1.4323490460713704, 1920: 1.4237258831659954, 2048: 1.4150859117507935, 2176: 1.403245449066162, 2304: 1.3907457987467449, 2432: 1.3783126672108967, 2560: 1.3697110811869304, 2688: 1.3645572662353516, 2816: 1.3603742520014446, 2944: 1.3543848594029744, 3072: 1.347719669342041, 3200: 1.340627392133077, 3328: 1.3315421342849731, 3456: 1.3258575995763142, 3584: 1.3198659817377727, 3712: 1.3152828613917034, 3840: 1.3110636075337727, 3968: 1.3056547244389851, 4096: 1.3021053870519002, 4224: 1.2999297380447388, 4352: 1.294923186302185, 4480: 1.2909804582595825, 4608: 1.2900036970774333, 4736: 1.2902472019195557, 4864: 1.2918723821640015, 4992: 1.291001598040263, 5120: 1.2895439465840657, 5248: 1.2880661884943645, 5376: 1.2859177192052205, 5504: 1.2824472188949585, 5632: 1.2809780438741047, 5760: 1.2787764469782512, 5888: 1.275431235631307, 6016: 1.2724887132644653, 6144: 1.2715346018473308, 6272: 1.2683002948760986, 6400: 1.265703558921814, 6528: 1.2647731701533, 6656: 1.2625990708669026, 6784: 1.2619764407475789, 6912: 1.2590054273605347, 7040: 1.2577673594156902, 7168: 1.2560711304346721, 7296: 1.2552434206008911, 7424: 1.2548787991205852, 7552: 1.253571351369222, 7680: 1.253018895785014, 7808: 1.2523691256841023, 7936: 1.2511825164159138, 8064: 1.2502984603246052, 8192: 1.2487489779790242, 8320: 1.2465073267618816, 8448: 1.2471106847127278, 8576: 1.246405045191447, 8704: 1.2456809282302856, 8832: 1.246513803799947, 8960: 1.2452890078226726, 9088: 1.2449659903844197, 9216: 1.2446746428807576, 9344: 1.243600606918335, 9472: 1.2433313926060994, 9600: 1.2425612608591716, 9728: 1.2418020168940227, 9856: 1.2422171831130981, 9984: 1.2433586915334065, 10112: 1.2457749843597412, 10240: 1.2467239300409954, 10368: 1.2459797859191895, 10496: 1.2456615368525188, 10624: 1.245143969853719, 10752: 1.2438757022221882, 10880: 1.242745041847229, 11008: 1.2418105204900105, 11136: 1.2423208951950073, 11264: 1.2420905033747356, 11392: 1.2425556580225627, 11520: 1.2421245972315471, 11648: 1.2420012950897217, 11776: 1.2419670422871907, 11904: 1.2427738110224407, 12032: 1.2439463535944622, 12160: 1.2430020968119304, 12288: 1.241904854774475, 12416: 1.2409745454788208, 12544: 1.241379976272583, 12672: 1.241683562596639, 12800: 1.2417948643366497, 12928: 1.2417192856470745, 13056: 1.2421794732411702, 13184: 1.2428900400797527, 13312: 1.2427026828130086, 13440: 1.2426239252090454, 13568: 1.2426544825236003, 13696: 1.2427248160044353, 13824: 1.2428360382715862, 13952: 1.2432185808817546, 14080: 1.2432949940363567, 14208: 1.2443886995315552, 14336: 1.2447130680084229, 14464: 1.2453198830286663, 14592: 1.2446977694829304, 14720: 1.243495265642802, 14848: 1.244351903597514, 14976: 1.2450552384058635, 15104: 1.2451260487238567, 15232: 1.2457971970240276, 15360: 1.2461340030034382, 15488: 1.2462026278177898, 15616: 1.2464581330617268, 15744: 1.2466548283894856, 15872: 1.2465604941050212, 16000: 1.2469167709350586, 16128: 1.247370998064677, 16256: 1.24653160572052, 16384: 1.246718168258667, 16512: 1.2469114859898884, 16640: 1.2465996344884236, 16768: 1.246052622795105, 16896: 1.2452561457951863, 17024: 1.244573752085368, 17152: 1.2434902985890706, 17280: 1.2425461212793987, 17408: 1.24224058787028, 17536: 1.2410871187845867, 17664: 1.240566372871399, 17792: 1.2400507132212322, 17920: 1.2400675614674885, 18048: 1.2412863572438557, 18176: 1.2446517546971638, 18304: 1.2457942962646484, 18432: 1.2472262779871623, 18560: 1.2474730809529622, 18688: 1.2475476264953613, 18816: 1.2484245300292969, 18944: 1.247772455215454, 19072: 1.2475790580113728, 19200: 1.2472245295842488, 19328: 1.2467794020970662, 19456: 1.246848225593567, 19584: 1.2465852896372478, 19712: 1.245927095413208, 19840: 1.2460417747497559, 19968: 1.2455599308013916, 20096: 1.245295246442159, 20224: 1.245437741279602, 20352: 1.2449763615926106, 20480: 1.2468083302179973, 20608: 1.2489142417907715, 20736: 1.25046706199646, 20864: 1.249730388323466, 20992: 1.2492557764053345, 21120: 1.2493275006612141, 21248: 1.248974363009135, 21376: 1.2491344213485718, 21504: 1.2508214314778645, 21632: 1.2510512272516887, 21760: 1.2504816850026448, 21888: 1.2501104672749836, 22016: 1.250980059305827, 22144: 1.251951813697815, 22272: 1.2517642577489216, 22400: 1.2517881393432617, 22528: 1.2516557772954304, 22656: 1.25176207224528, 22784: 1.252344806989034, 22912: 1.2528688112894695, 23040: 1.2531087001164753, 23168: 1.253521243731181, 23296: 1.253626863161723, 23424: 1.253616491953532, 23552: 1.2537651459376018, 23680: 1.253343979517619, 23808: 1.2526532014211018, 23936: 1.2525556484858196, 24064: 1.2529804706573486, 24192: 1.25259264310201, 24320: 1.2516290346781414, 24448: 1.2510907649993896, 24576: 1.2511990070343018, 24704: 1.2518386840820312, 24832: 1.2547636032104492, 24960: 1.2573750813802083, 25088: 1.2588941256205242, 25216: 1.26289701461792, 25344: 1.2666411797205608, 25472: 1.267980933189392, 25600: 1.2715480327606201, 25728: 1.2747081518173218, 25856: 1.2772704760233562, 25984: 1.2793354193369548, 26112: 1.2813103199005127, 26240: 1.2831405798594158, 26368: 1.284505009651184, 26496: 1.2874547243118286, 26624: 1.2906489372253418, 26752: 1.2917607227961223, 26880: 1.2935970624287922, 27008: 1.2944608132044475, 27136: 1.2939046223958333, 27264: 1.293494462966919, 27392: 1.2944105466206868, 27520: 1.2955187161763508, 27648: 1.2967300415039062, 27776: 1.2979005575180054, 27904: 1.2989315589269002, 28032: 1.2992282311121623, 28160: 1.2995696067810059, 28288: 1.3004120190938313, 28416: 1.3014185428619385, 28544: 1.3027564684549968, 28672: 1.3038953145345051, 28800: 1.3048886855443318, 28928: 1.3055535952250164, 29056: 1.3060487906138103, 29184: 1.3066215515136719, 29312: 1.3073009649912517, 29440: 1.308093508084615, 29568: 1.3095227082570393, 29696: 1.3101683060328166, 29824: 1.3115711609522502, 29952: 1.3122899929682414, 30080: 1.312605857849121, 30208: 1.3137356837590535, 30336: 1.3147563536961873, 30464: 1.3156120777130127, 30592: 1.3165070215861003, 30720: 1.3180307149887085, 30848: 1.3189226388931274, 30976: 1.3203075329462688, 31104: 1.3224177757898967, 31232: 1.3239558935165405, 31360: 1.3246176640192668, 31488: 1.3260192076365154, 31616: 1.3268759648005168, 31744: 1.327588438987732, 31872: 1.3279576301574707, 32000: 1.3286468982696533, 32128: 1.3294551372528076, 32256: 1.3300472895304363, 32384: 1.3305404583613079, 32512: 1.3309208154678345, 32640: 1.331743319829305, 32768: 1.3327288627624512}, 'peak_memory_usage (GB)': 10.680498123168945, 'peak_memory_cached (GB)': 78.091796875}
